/* Default/fallback values */
:root {
  --os-font-ui: Geneva, Chicago, -apple-system, BlinkMacSystemFont, sans-serif;
  --os-font-mono: Monaco, monospace;
  --os-color-window-bg: #ffffff;
  --os-color-menubar-bg: #ffffff;
  --os-color-menubar-border: #000000;
  --os-color-menubar-text: #000000;
  --os-color-window-border: #000000;
  --os-color-titlebar-active-bg: #ffffff;
  --os-color-titlebar-inactive-bg: #ffffff;
  --os-color-titlebar-text: #000000;
  --os-color-titlebar-text-inactive: #666666;
  --os-color-button-face: #ffffff;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #808080;
  --os-color-button-active-face: #cccccc;
  --os-color-selection-bg: #000000;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #666666;
  --os-color-text-disabled: #999999;
  --os-metrics-border-width: 2px;
  --os-metrics-radius: 0.5rem;
  --os-metrics-titlebar-height: 1.5rem;
  --os-metrics-menubar-height: 1.75rem; /* 28px */
  --os-window-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.5);
}

/* System 7 Theme */
:root[data-os-theme="system7"] {
  --os-font-ui: "ChicagoKare", Geneva, -apple-system, BlinkMacSystemFont,
    sans-serif;
  --os-font-mono: Monaco, monospace;
  --os-color-window-bg: #ffffff;
  --os-color-menubar-bg: #ffffff;
  --os-color-menubar-border: #000000;
  --os-color-menubar-text: #000000;
  --os-color-window-border: #000000;
  --os-color-titlebar-active-bg: #ffffff;
  --os-color-titlebar-inactive-bg: #ffffff;
  --os-color-titlebar-text: #000000;
  --os-color-titlebar-text-inactive: #666666;
  --os-color-titlebar-pattern: linear-gradient(#000 50%, transparent 0);
  --os-color-button-face: #ffffff;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #808080;
  --os-color-button-active-face: #cccccc;
  --os-color-selection-bg: #000000;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #666666;
  --os-color-text-disabled: #999999;
  --os-metrics-border-width: 2px;
  --os-metrics-radius: 0px; /* System 7 has square corners */
  --os-metrics-titlebar-height: 1.5rem;
  --os-metrics-menubar-height: 1.75rem; /* 28px */
  --os-window-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.5);
}

/* Mac OS X Theme */
:root[data-os-theme="macosx"] {
  --os-font-ui: "Lucida Grande", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, sans-serif;
  --os-font-mono: Monaco, Menlo, monospace;
  --os-color-window-bg: #ececec;
  --os-color-menubar-bg: linear-gradient(to bottom, #fafafa, #d1d1d1);
  --os-color-menubar-border: #8e8e8e;
  --os-color-menubar-text: #000000;
  --os-color-window-border: rgba(0, 0, 0, 0.2);
  --os-color-window-border-inactive: rgba(0, 0, 0, 0.08);
  --os-color-titlebar-border: rgba(0, 0, 0, 0.1);
  --os-color-titlebar-border-inactive: rgba(0, 0, 0, 0.05);
  --os-color-titlebar-active-bg: linear-gradient(to bottom, #ededed, #c8c8c8);
  --os-color-titlebar-inactive-bg: linear-gradient(to bottom, #f6f6f6, #e0e0e0);
  --os-color-titlebar-text: #000000;
  --os-color-titlebar-text-inactive: #7f7f7f;
  --os-color-button-face: #ffffff;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #999999;
  --os-color-button-active-face: #e0e0e0;
  --os-color-traffic-light-close: #ff5f57;
  --os-color-traffic-light-minimize: #ffbd2e;
  --os-color-traffic-light-maximize: #28ca42;
  --os-color-selection-bg: #3875d7;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #4b4b4b;
  --os-color-text-disabled: #999999;
  --os-metrics-border-width: 0.5px;
  --os-metrics-titlebar-border-width: 0.5px;
  --os-metrics-radius: 0.375rem;
  --os-metrics-titlebar-height: 1.375rem;
  --os-metrics-menubar-height: 1.375rem;
  --os-window-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

/* Windows 98 Theme */
:root[data-os-theme="win98"] {
  --os-font-ui: Tahoma, "MS Sans Serif", sans-serif;
  --os-font-mono: Consolas, "Courier New", monospace;
  --font-ms-sans: "Pixelated MS Sans Serif", "MS Sans Serif", sans-serif;
  --os-color-window-bg: #c0c0c0;
  --os-color-menubar-bg: #c0c0c0;
  --os-color-menubar-border: #808080;
  --os-color-menubar-text: #000000;
  --os-color-window-border: #000000;
  --os-color-titlebar-active-bg: linear-gradient(to right, #000084, #1084d0);
  --os-color-titlebar-inactive-bg: linear-gradient(to right, #808080, #c0c0c0);
  --os-color-titlebar-text: #ffffff;
  --os-color-titlebar-text-inactive: #e0e0e0;
  --os-color-button-face: #c0c0c0;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #808080;
  --os-color-button-active-face: #b0b0b0;
  --os-color-selection-bg: #000080;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #333333;
  --os-color-text-disabled: #7f7f7f;
  --os-metrics-border-width: 2px;
  --os-metrics-radius: 0px;
  --os-metrics-titlebar-height: 1.375rem;
  --os-metrics-menubar-height: 1.375rem;
  --os-window-shadow: none;
}

/* Windows XP Theme */
:root[data-os-theme="xp"] {
  --os-font-ui: Tahoma, Segoe UI, sans-serif;
  --os-font-mono: Consolas, Courier New, monospace;
  --font-ms-sans: "Pixelated MS Sans Serif", "MS Sans Serif", sans-serif;
  --os-color-window-bg: #ece9d8;
  --os-color-menubar-bg: linear-gradient(to bottom, #245edc, #1941a5);
  --os-color-menubar-border: #0a246a;
  --os-color-menubar-text: #ffffff;
  --os-color-window-border: #0054e3;
  --os-color-titlebar-active-bg: linear-gradient(to bottom, #0058e6, #1941a5);
  --os-color-titlebar-inactive-bg: linear-gradient(to bottom, #8b9dc3, #7a8aab);
  --os-color-titlebar-text: #ffffff;
  --os-color-titlebar-text-inactive: #d5ddf3;
  --os-color-button-face: #ece9d8;
  --os-color-button-highlight: #ffffff;
  --os-color-button-shadow: #aca899;
  --os-color-button-active-face: #d8d5c8;
  --os-color-selection-bg: #316ac5;
  --os-color-selection-text: #ffffff;
  --os-color-text-primary: #000000;
  --os-color-text-secondary: #5a5a5a;
  --os-color-text-disabled: #a0a0a0;
  --os-metrics-border-width: 3px;
  --os-metrics-radius: 0.5rem;
  --os-metrics-titlebar-height: 1.875rem;
  --os-metrics-menubar-height: 1.875rem;
  --os-window-shadow: 0 4px 8px rgba(0, 0, 0, 0.25);
}

/* Backwards compatibility aliases */
.bg-system7-window-bg {
  background: var(--os-color-window-bg);
}

.bg-system7-menubar-bg {
  background: var(--os-color-menubar-bg);
}

/* Mac OS X Aqua Button Styles */
.aqua-button {
  font-family: "Lucida Grande", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, sans-serif;
  font-size: 12px;
  line-height: 1;
  height: 24px;
  padding: 0 16px;
  min-width: auto;
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  cursor: default;
  outline: none;
  border: none;
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  -webkit-font-smoothing: antialiased;
  font-smooth: auto;
}

.aqua-button.primary {
  background: linear-gradient(
    rgba(0, 65, 184, 0.625),
    rgba(45, 115, 199, 0.625),
    rgba(33, 160, 196, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75);
}

.aqua-button.primary:focus,
.aqua-button.primary:active {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 1px 1px rgba(0, 78, 187, 0.5),
    inset 0 1px 3px rgba(0, 17, 49, 0.8),
    inset 0 2px 3px 1px rgba(0, 78, 187, 0.75), 0 0 3px rgba(52, 106, 227, 0.5);
}

.aqua-button.secondary {
  background: linear-gradient(
    rgba(160, 160, 160, 0.625),
    rgba(255, 255, 255, 0.625)
  );
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.4), inset 0 2px 3px 1px #bbbbbb;
}

.aqua-button.secondary:focus,
.aqua-button.secondary:active {
  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2), 0 1px 1px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.4), inset 0 2px 3px 1px #bbbbbb,
    0 0 3px rgba(0, 0, 0, 0.25);
}

/* Top shine */
.aqua-button:before {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 33%;
  background: linear-gradient(
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.3)
  );
  width: calc(100% - 6px);
  border-radius: 8px 8px 2px 2px;
  top: 2px;
  filter: blur(0.5px);
  z-index: 2;
  pointer-events: none;
}

/* Bottom glow */
.aqua-button:after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 33%;
  background: linear-gradient(
    rgba(255, 255, 255, 0.2),
    rgb(255, 255, 255, 0.5)
  );
  width: calc(100% - 8px);
  border-radius: 4px;
  bottom: 2px;
  filter: blur(1px);
  pointer-events: none;
}

/* Text styling */
.aqua-button span,
.aqua-button {
  position: relative;
  z-index: 3;
  font-weight: 500;
  color: white;
}

.aqua-button.primary span,
.aqua-button.primary {
  text-shadow: 0 1px 1px rgba(30, 77, 161, 0.5);
}

.aqua-button.secondary span,
.aqua-button.secondary {
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.25);
  color: black;
}

/* macOS Theme Font Overrides */
:root[data-os-theme="macosx"] body {
  font-family: "Lucida Grande", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
  font-size: 11px !important;
}

:root[data-os-theme="macosx"] * {
  font-family: inherit;
}

/* Ensure all UI elements in macOS theme use proper antialiasing */
:root[data-os-theme="macosx"] input,
:root[data-os-theme="macosx"] label,
:root[data-os-theme="macosx"] button,
:root[data-os-theme="macosx"] select,
:root[data-os-theme="macosx"] textarea,
:root[data-os-theme="macosx"] .menubar,
:root[data-os-theme="macosx"] .window,
:root[data-os-theme="macosx"] .title-bar {
  font-family: "Lucida Grande", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  font-smooth: auto !important;
}

/* macOS specific font sizes */
:root[data-os-theme="macosx"] .menubar {
  font-size: 13px !important;
}

:root[data-os-theme="macosx"] .title-bar {
  font-size: 11px !important;
}

:root[data-os-theme="macosx"] button:not(.aqua-button) {
  font-size: 11px !important;
}

:root[data-os-theme="macosx"] input,
:root[data-os-theme="macosx"] select,
:root[data-os-theme="macosx"] textarea {
  font-size: 11px !important;
}

:root[data-os-theme="macosx"] label {
  font-size: 10px !important;
}

:root[data-os-theme="macosx"] .window-body {
  font-size: 11px !important;
}

:root[data-os-theme="macosx"] p,
:root[data-os-theme="macosx"] div {
  font-size: 11px !important;
}

/* macOS Titlebar Border Styling */
:root[data-os-theme="macosx"] .title-bar {
  border: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border) !important;
  border-bottom: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border) !important;
}

/* Inactive window styling for macOS */
:root[data-os-theme="macosx"] .window:not(.is-foreground) .title-bar,
:root[data-os-theme="macosx"] .title-bar:not(.active) {
  border: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border-inactive) !important;
  border-bottom: var(--os-metrics-titlebar-border-width) solid
    var(--os-color-titlebar-border-inactive) !important;
}

:root[data-os-theme="macosx"] .window {
  border: var(--os-metrics-border-width) solid var(--os-color-window-border) !important;
}

:root[data-os-theme="macosx"] .window:not(.is-foreground) {
  border: var(--os-metrics-border-width) solid
    var(--os-color-window-border-inactive) !important;
}
